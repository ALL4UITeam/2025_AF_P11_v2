<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="format-detection" content="telephone=no, address=no, email=no" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="description" content="K-Ocean">
  <meta name="keywords" content="K-Ocean">
  <title>K-OCEAN</title>
  <link rel="stylesheet" href="./lib/ol/ol.css">
  <link rel="stylesheet" href="./lib/swiper/swiper-bundle.min.css">
  <script src="./lib/ol/ol.js"></script>
  <script src="./lib/swiper/swiper-bundle.min.js"></script>
  <script src="./lib/interact/interact.min.js"></script>
</head>

<body class="open-depth-1 open-depth-2">

  <div class="wrap">
    <nav id="map-nav">
      <header class="map-nav-header">
        <h1 class="map-nav-logo"><a href="#">K-OCEAN</a></h1>
        <div class="map-nav-h-utils">
          <a href="#" class="mobile-en">EN</a>
          <button class="map-nav-header-btn">
            열림
          </button>
        </div> 
      </header>
      <div class="map-gnb">
        <ul>
          <li>
            <a href="#">해양지도 서비스</a>
            <div class="map-gnb-submenu">
              <ul>
                <li><a href="#">해양지도 서비스</a></li>
              </ul>
            </div>
          </li>
          <li>
            <a href="#">플랫폼 소개</a>
            <div class="map-gnb-submenu">
              <ul>
                <li><a href="#">K-OCEAN 플랫폼 소개</a></li>
                <li><a href="#">K-OCEAN 로드맵</a></li>
              </ul>
            </div>
          </li>
          <li>
            <a href="#">서비스활용</a>
            <div class="map-gnb-submenu">
              <ul>
                <li><a href="#">데이터 다운로드</a></li>
                <li><a href="#">Open-API</a></li>
                <li><a href="#">통계서비스</a></li>
                <li><a href="#">Cook-Book</a></li>
                <li><a href="#">공간정보 법령 및 규정</a></li>
              </ul>
            </div>
          </li>
          <li>
            <a href="#">커뮤니티</a>
            <div class="map-gnb-submenu">
              <ul>
                <li><a href="#">공지사항</a></li>
                <li><a href="#">자주하는 질문</a></li>
              </ul>
            </div>
          </li>
        </ul>
      </div>
    </nav>
    <div class="main">
      {{> Map-aside }}
      <!-- // aside -->

      {{> Map-layer-panel }}
      <!-- // layer-panel -->

      {{> Map-detail-panel }}
      <!-- // detail-panel -->

      {{> Map-fav-layers }}
      <!-- // fav-layers -->

      {{> Map-weather-card }}
      <!-- // weather-card -->

      {{> Map-control-panel }}
      <!-- // control-panel -->

      {{> Map-coordinate-info }}
      <!-- // coordinate-info -->

      <div class="map-area">
        <div id="map"></div>
      </div>
      <!-- // map-area -->

      {{> Map-option-panel }}

      <!-- 25.10.22 오른쪽 키 안내 추가 -->
      <div class="alert-user-element" style="left:50%;top:20%;">
        <div>
          <div class="alert-element-text">오른쪽 클릭 또는 왼쪽 더블클릭으로 마치세요.</div>
        </div>
      </div>

    
      <!-- 라벨 생성 툴 -->
      <div class="label-create-element" style="left:30%;top:20%;">
        <div>
          <div class="label-create-pointer"></div>
          <div class="label-create-text">라벨 생성을 원하는 위치를 선택 하세요.</div>
        </div>
      </div>

      <!-- 거리재기 -->
      <div class="distance-measure-element" style="left:40%;top:20%;">
        <div>
          <button class="distance-measure-close" title="닫힘">
            <span class="visually-hidden">닫힘</span>
          </button>
          <div class="distance-measure-text"><b class="distance-measure-value">38.44</b> km</div>
        </div>
      </div>

      <!-- 지도 클릭 정보 팝업 -->
      <div class="map-info-popup" style="left:40%;top:30%;display: block">
        <div>
          <div class="map-info-pointer"></div>
          <div class="map-info-content">
            <div class="map-info-item">
              <span class="map-info-label">해양지명</span>
              <span class="map-info-line"></span>
              <span class="map-info-value">217</span>
            </div>
            <div class="map-info-item">
              <span class="map-info-label">도서지명</span>
              <span class="map-info-line"></span>
              <span class="map-info-value">120</span>
            </div>
            <div class="map-info-item">
              <span class="map-info-label">어장</span>
              <span class="map-info-line"></span>
              <span class="map-info-value">60</span>
            </div>
          </div>
        </div>
      </div>
      <!-- // map-info-popup -->

      <!-- 테스트용 모달 버튼 -->
      <!-- <button class="test-modal-btn" data-modal="property-modal" style="position: absolute; top: 10px; right: 10px;">
        모달 테스트
      </button> -->

      <div class="map-modal" id="alert-modal" style="left:420px;top: 180px;">
        <div class="modal-container">
          <header class="modal-header">
            <h2 class="modal-title">해수욕장 안전지수</h2>
            <button class="modal-close">
              <span class="visually-hidden">닫기</span>
            </button>
          </header>
          <div class="map-modal-content">
            <p>해수욕장 이용객의 안전도를
              지수로 표현한 것입니다.
              지형적 위험성과 사고 발생 요인을 반영하여 산출된 값이며, 0~99점 사이에서 숫자가 클수록 위험함을 나타냅니다.</p>
          </div>
          <div class="map-modal-footer">
            <div>
              <button class="btn btn-outline">이전</button>
            </div>
            <div>
              <button class="btn btn-secondary">수정</button>
              <button class="btn btn-primary">등록</button>
            </div>
          </div>
        </div>
      </div>

      <!-- 25.11.12 속성정보 팝업 추가 -->
      <div class="map-modal" id="property-modal" style="display: block;">
        <div class="modal-container">
          <header class="modal-header">
            <h2 class="modal-title">속성정보 팝업</h2>
            <button class="modal-close">
              <span class="visually-hidden">닫기</span>
            </button>
          </header>
          <div class="map-modal-content">
            <div class="detail-content-item">
              <ul class="detail-content-list">
                <li class="list-item">
                  <strong class="subject">목적</strong>
                  <div class="desc">해양안전사고 예방에 활용</div>
                </li>
                <li class="list-item">
                  <strong class="subject">주제분류1</strong>
                  <div class="desc">안전</div>
                </li>
                <li class="list-item">
                  <strong class="subject">자료 생산주기</strong>
                  <div class="desc">
                    <div><a href="#" target="_blank" title="새창 열림" class="link-btn"><span>개방해 바로가기</span></a></div>
                  </div>
                </li>
                <li class="list-item">
                  <strong class="subject">위치좌표</strong>
                  <div class="desc">
                    <div><a href="#" target="_blank" title="새창 열림" class="link-coordinate"><span>67-49-52.45S
                          173-39-47.41E</span></a></div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="map-modal" id="notice-modal" style="left:50%;top: 50%;display: flex; transform: translate(-50%, -50%);">
        <div class="modal-container">
          <header class="modal-header">
            <button class="modal-close">
              <span class="visually-hidden">닫기</span>
            </button>
          </header>
          <div class="map-modal-content notice-modal-content">
            <svg xmlns="http://www.w3.org/2000/svg" width="72" height="80" viewBox="0 0 24 24" fill="none" stroke="#C1272D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2c-3.866 0-7 3.134-7 7v5H5a2 2 0 0 0-2 2v3h18v-3a2 2 0 0 0-2-2h0v-5c0-3.866-3.134-7-7-7z"/>
              <line x1="12" y1="9" x2="12" y2="13"/>
              <line x1="12" y1="17" x2="12" y2="17.01"/>
              <line x1="4" y1="4" x2="5.5" y2="5.5"/>
              <line x1="20" y1="4" x2="18.5" y2="5.5"/>
              <line x1="2" y1="12" x2="4" y2="12"/>
              <line x1="20" y1="12" x2="22" y2="12"/>
            </svg>            

            <div class="notice-modal-title">공개제한 자료 주의사항</div>
            <div class="notice-modal-content">
              <p>해당 자료는 대민 대상 <b class="highlight">공개 자료</b>가 아닙니다.</p>
              <p>대민 대상 공개 자료는 <b class="highlight">해당 자료</b>를 참조해주세요.</p>
            </div>
          </div>
          <div class="map-modal-footer">
            <button class="btn btn-primary">확인</button>
          </div>
        </div>
      </div> -->
  </div>
  <script type="module" src="./js/page/map.js"></script>
  <script>
    // map.js가 로드된 후 실행
    initTransparencySliders('.transparency-slider', (slider, value) => {
      const layerId = slider.dataset.layerId;

      // 함수 호출
      console.log(`${layerId} 투명도: ${value.toFixed(1)}%`);
    });
  </script>
</body>
</html>

