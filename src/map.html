<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="format-detection" content="telephone=no, address=no, email=no" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="description" content="K-Ocean">
  <meta name="keywords" content="K-Ocean">
  <title>K-OCEAN</title>
  <link rel="stylesheet" href="./lib/ol/ol.css">
  <link rel="stylesheet" href="./lib/swiper/swiper-bundle.min.css">
  <script src="./lib/ol/ol.js"></script>
  <script src="./lib/swiper/swiper-bundle.min.js"></script>
  <script src="./lib/interact/interact.min.js"></script>
</head>

<body class="open-depth-1 open-depth-2">

  <div class="wrap">
    <nav id="map-nav">
      <header class="map-nav-header">
        <h1 class="map-nav-logo"><a href="#">K-OCEAN</a></h1>
        <div class="map-nav-h-utils">
          <a href="#" class="mobile-en">EN</a>
          <button class="map-nav-header-btn">
            열림
          </button>
        </div> 
      </header>
      <div class="map-gnb">
        <ul>
          <li>
            <a href="#">해양지도 서비스</a>
            <div class="map-gnb-submenu">
              <ul>
                <li><a href="#">해양지도 서비스</a></li>
              </ul>
            </div>
          </li>
          <li>
            <a href="#">플랫폼 소개</a>
            <div class="map-gnb-submenu">
              <ul>
                <li><a href="#">K-OCEAN 플랫폼 소개</a></li>
                <li><a href="#">K-OCEAN 로드맵</a></li>
              </ul>
            </div>
          </li>
          <li>
            <a href="#">서비스활용</a>
            <div class="map-gnb-submenu">
              <ul>
                <li><a href="#">데이터 다운로드</a></li>
                <li><a href="#">Open-API</a></li>
                <li><a href="#">통계서비스</a></li>
                <li><a href="#">Cook-Book</a></li>
                <li><a href="#">공간정보 법령 및 규정</a></li>
              </ul>
            </div>
          </li>
          <li>
            <a href="#">커뮤니티</a>
            <div class="map-gnb-submenu">
              <ul>
                <li><a href="#">공지사항</a></li>
                <li><a href="#">자주하는 질문</a></li>
              </ul>
            </div>
          </li>
        </ul>
      </div>
    </nav>
    <div class="main">
      {{> Map-aside }}
      <!-- // aside -->

      {{> Map-layer-panel }}
      <!-- // layer-panel -->

      {{> Map-detail-panel }}
      <!-- // detail-panel -->

      {{> Map-fav-layers }}
      <!-- // fav-layers -->

      {{> Map-weather-card }}
      <!-- // weather-card -->

      {{> Map-control-panel }}
      <!-- // control-panel -->

      {{> Map-coordinate-info }}
      <!-- // coordinate-info -->

      <div class="map-area">
        <div id="map"></div>
      </div>
      <!-- // map-area -->

      {{> Map-option-panel }}

      <!-- 25.10.22 오른쪽 키 안내 추가 -->
      <div class="alert-user-element" style="left:50%;top:20%;">
        <div>
          <div class="alert-element-text">오른쪽 클릭 또는 왼쪽 더블클릭으로 마치세요.</div>
        </div>
      </div>

    
      <!-- 라벨 생성 툴 -->
      <div class="label-create-element" style="left:30%;top:20%;">
        <div>
          <div class="label-create-pointer"></div>
          <div class="label-create-text">라벨 생성을 원하는 위치를 선택 하세요.</div>
        </div>
      </div>

      <!-- 거리재기 -->
      <div class="distance-measure-element" style="left:40%;top:20%;">
        <div>
          <button class="distance-measure-close" title="닫힘">
            <span class="visually-hidden">닫힘</span>
          </button>
          <div class="distance-measure-text"><b class="distance-measure-value">38.44</b> km</div>
        </div>
      </div>

      <!-- 지도 클릭 정보 팝업 -->
      <div class="map-info-popup" style="left:40%;top:30%;display: block">
        <div>
          <div class="map-info-pointer"></div>
          <div class="map-info-content">
            <div class="map-info-item">
              <span class="map-info-label">해양지명</span>
              <span class="map-info-line"></span>
              <span class="map-info-value">217</span>
            </div>
            <div class="map-info-item">
              <span class="map-info-label">도서지명</span>
              <span class="map-info-line"></span>
              <span class="map-info-value">120</span>
            </div>
            <div class="map-info-item">
              <span class="map-info-label">어장</span>
              <span class="map-info-line"></span>
              <span class="map-info-value">60</span>
            </div>
          </div>
        </div>
      </div>
      <!-- // map-info-popup -->

      <!-- 테스트용 모달 버튼 -->
      <!-- <button class="test-modal-btn" data-modal="property-modal" style="position: absolute; top: 10px; right: 10px;">
        모달 테스트
      </button> -->

      <div class="map-modal" id="alert-modal" style="left:420px;top: 180px;">
        <div class="modal-container">
          <header class="modal-header">
            <h2 class="modal-title">해수욕장 안전지수</h2>
            <button class="modal-close">
              <span class="visually-hidden">닫기</span>
            </button>
          </header>
          <div class="map-modal-content">
            <p>해수욕장 이용객의 안전도를
              지수로 표현한 것입니다.
              지형적 위험성과 사고 발생 요인을 반영하여 산출된 값이며, 0~99점 사이에서 숫자가 클수록 위험함을 나타냅니다.</p>
          </div>
          <div class="map-modal-footer">
            <div>
              <button class="btn btn-outline">이전</button>
            </div>
            <div>
              <button class="btn btn-secondary">수정</button>
              <button class="btn btn-primary">등록</button>
            </div>
          </div>
        </div>
      </div>

      <!-- 25.11.12 속성정보 팝업 추가 -->
      <div class="map-modal" id="property-modal">
        <div class="modal-container">
          <header class="modal-header">
            <h2 class="modal-title">속성정보 팝업</h2>
            <button class="modal-close">
              <span class="visually-hidden">닫기</span>
            </button>
          </header>
          <div class="map-modal-content">
            <div class="detail-content-item">
              <ul class="detail-content-list">
                <li class="list-item">
                  <strong class="subject">목적</strong>
                  <div class="desc">해양안전사고 예방에 활용</div>
                </li>
                <li class="list-item">
                  <strong class="subject">주제분류1</strong>
                  <div class="desc">안전</div>
                </li>
                <li class="list-item">
                  <strong class="subject">자료 생산주기</strong>
                  <div class="desc">
                    <div><a href="#" target="_blank" title="새창 열림" class="link-btn"><span>개방해 바로가기</span></a></div>
                  </div>
                </li>
                <li class="list-item">
                  <strong class="subject">위치좌표</strong>
                  <div class="desc">
                    <div><a href="#" target="_blank" title="새창 열림" class="link-coordinate"><span>67-49-52.45S
                          173-39-47.41E</span></a></div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="map-modal" id="property-modal" style="display: block;">
        <div class="modal-container">
          <header class="modal-header">
            <h2 class="modal-title">속성정보</h2>
            <button class="modal-close">
              <span class="visually-hidden">닫기</span>
            </button>
          </header>
          <div class="map-modal-content">
            <div class="accordion">
              <div class="accordion-item">
                <button class="accordion-header">
                  <span>해양지명</span>
                  <i class="accordion-icon"></i>
                </button>
                <div class="accordion-body">
                  <p>217</p>
                </div>
              </div>
            
              <div class="accordion-item">
                <button class="accordion-header">
                  <span>도서지명</span>
                  <i class="accordion-icon"></i>
                </button>
                <div class="accordion-body">
                  <p>120</p>
                </div>
              </div>
            
              <div class="accordion-item">
                <button class="accordion-header">
                  <span>어장</span>
                  <i class="accordion-icon"></i>
                </button>
                <div class="accordion-body">
                  <p>60</p>
                </div>
              </div>
              
              <div class="accordion-item">
                <button class="accordion-header">
                  <span>어장</span>
                  <i class="accordion-icon"></i>
                </button>
                <div class="accordion-body">
                  <p>60</p>
                </div>
              </div>
              <div class="accordion-item">
                <button class="accordion-header">
                  <span>어장</span>
                  <i class="accordion-icon"></i>
                </button>
                <div class="accordion-body">
                  <p>60</p>
                </div>
              </div>
              <div class="accordion-item">
                <button class="accordion-header">
                  <span>어장</span>
                  <i class="accordion-icon"></i>
                </button>
                <div class="accordion-body">
                  <p>60</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="map-modal" id="property-modal" style="display: block;">
        <div class="modal-container">
          <header class="modal-header">
            <h2 class="modal-title">속성정보</h2>
            <button class="modal-close">
              <span class="visually-hidden">닫기</span>
            </button>
          </header>
          <div class="map-modal-content">
            <div class="stats-page">
          
              <!-- 연도별 사고 현황 -->
              <div class="stats-section stats-section--year">
                <h2 class="section-title">
                  <span class="section-title__dot"></span>
                  연도별 사고 현황
                </h2>
          
                <div class="table-box">
                  <table class="tbl tbl--year">
                    <tbody>
                      <!-- 1세트 -->
                      <tr class="tbl__row tbl__row--head">
                        <th class="tbl__cell tbl__cell--head tbl__cell--total">전체사고</th>
                        <th class="tbl__cell tbl__cell--head">'08년</th>
                        <th class="tbl__cell tbl__cell--head">'09년</th>
                        <th class="tbl__cell tbl__cell--head">'10년</th>
                        <th class="tbl__cell tbl__cell--head">'11년</th>
                      </tr>
                      <tr class="tbl__row tbl__row--data">
                        <td class="tbl__cell tbl__cell--data tbl__cell--total tbl__cell--total-bg">2,585</td>
                        <td class="tbl__cell tbl__cell--data">51</td>
                        <td class="tbl__cell tbl__cell--data">88</td>
                        <td class="tbl__cell tbl__cell--data">101</td>
                        <td class="tbl__cell tbl__cell--data">90</td>
                      </tr>
          
                      <!-- 2세트 -->
                      <tr class="tbl__row tbl__row--head">
                        <th class="tbl__cell tbl__cell--head">'12년</th>
                        <th class="tbl__cell tbl__cell--head">'13년</th>
                        <th class="tbl__cell tbl__cell--head">'14년</th>
                        <th class="tbl__cell tbl__cell--head">'15년</th>
                        <th class="tbl__cell tbl__cell--head">'16년</th>
                      </tr>
                      <tr class="tbl__row tbl__row--data">
                        <td class="tbl__cell tbl__cell--data">104</td>
                        <td class="tbl__cell tbl__cell--data">45</td>
                        <td class="tbl__cell tbl__cell--data">75</td>
                        <td class="tbl__cell tbl__cell--data">239</td>
                        <td class="tbl__cell tbl__cell--data">122</td>
                      </tr>
          
                      <!-- 3세트 -->
                      <tr class="tbl__row tbl__row--head">
                        <th class="tbl__cell tbl__cell--head">'17년</th>
                        <th class="tbl__cell tbl__cell--head">'18년</th>
                        <th class="tbl__cell tbl__cell--head">'19년</th>
                        <th class="tbl__cell tbl__cell--head">'20년</th>
                        <th class="tbl__cell tbl__cell--head">'21년</th>
                      </tr>
                      <tr class="tbl__row tbl__row--data">
                        <td class="tbl__cell tbl__cell--data">154</td>
                        <td class="tbl__cell tbl__cell--data">182</td>
                        <td class="tbl__cell tbl__cell--data">273</td>
                        <td class="tbl__cell tbl__cell--data">207</td>
                        <td class="tbl__cell tbl__cell--data">267</td>
                      </tr>
          
                      <!-- 4세트 -->
                      <tr class="tbl__row tbl__row--head">
                        <th class="tbl__cell tbl__cell--head">'22년</th>
                        <th class="tbl__cell tbl__cell--head">'23년</th>
                        <th class="tbl__cell tbl__cell--head tbl__cell--empty"></th>
                        <th class="tbl__cell tbl__cell--head tbl__cell--empty"></th>
                        <th class="tbl__cell tbl__cell--head tbl__cell--empty"></th>
                      </tr>
                      <tr class="tbl__row tbl__row--data">
                        <td class="tbl__cell tbl__cell--data">276</td>
                        <td class="tbl__cell tbl__cell--data">311</td>
                        <td class="tbl__cell tbl__cell--data tbl__cell--empty"></td>
                        <td class="tbl__cell tbl__cell--data tbl__cell--empty"></td>
                        <td class="tbl__cell tbl__cell--data tbl__cell--empty"></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
          
              <!-- 주/야간별 사고 현황 -->
              <div class="stats-section stats-section--daynight">
                <h2 class="section-title">
                  <span class="section-title__dot"></span>
                  주/야간별 사고 현황
                </h2>
          
                <div class="table-box">
                  <table class="tbl tbl--daynight">
                    <thead>
                      <tr>
                        <th class="tbl__cell tbl__cell--head tbl__cell--total tbl__cell--total-bg">전체사고</th>
                        <th class="tbl__cell tbl__cell--head">주간(AM6~PM6) 건수</th>
                        <th class="tbl__cell tbl__cell--head">야간(PM6~AM6) 건수</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="tbl__cell tbl__cell--data tbl__cell--total-bg">2,585</td>
                        <td class="tbl__cell tbl__cell--data">1,740</td>
                        <td class="tbl__cell tbl__cell--data">845</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
          
              <!-- 사고발생 상세 정보 -->
              <div class="stats-section stats-section--detail">
                <h2 class="section-title">
                  <span class="section-title__dot"></span>
                  사고발생 상세 정보
                </h2>
          
                <div class="stats-tab mb-10">
                  <div class="stats-tab__item stats-tab__item--active">사고발생 유형별</div>
                  <div class="stats-tab__item">사고발생 원인별</div>
                  <div class="stats-tab__item">선박종류별</div>
                </div>
          
                <div class="table-box table-box--detail">
                  <table class="tbl tbl--detail">
                    <tbody>
                      <!-- 1세트 -->
                      <tr class="tbl__row tbl__row--head">
                        <th class="tbl__cell tbl__cell--head">기관고장</th>
                        <th class="tbl__cell tbl__cell--head">기관손상</th>
                        <th class="tbl__cell tbl__cell--head">추진기손상</th>
                        <th class="tbl__cell tbl__cell--head">추진기장애</th>
                        <th class="tbl__cell tbl__cell--head">속구손상</th>
                        <th class="tbl__cell tbl__cell--head">시설물손상</th>
                      </tr>
                      <tr class="tbl__row tbl__row--data">
                        <td class="tbl__cell tbl__cell--data">160</td>
                        <td class="tbl__cell tbl__cell--data">610</td>
                        <td class="tbl__cell tbl__cell--data">126</td>
                        <td class="tbl__cell tbl__cell--data">46</td>
                        <td class="tbl__cell tbl__cell--data">4</td>
                        <td class="tbl__cell tbl__cell--data">1</td>
                      </tr>
          
                      <!-- 2세트 -->
                      <tr class="tbl__row tbl__row--head">
                        <th class="tbl__cell tbl__cell--head">안전저해</th>
                        <th class="tbl__cell tbl__cell--head">운항저해</th>
                        <th class="tbl__cell tbl__cell--head">인명사상</th>
                        <th class="tbl__cell tbl__cell--head">전복</th>
                        <th class="tbl__cell tbl__cell--head">접촉</th>
                        <th class="tbl__cell tbl__cell--head">조난</th>
                      </tr>
                      <tr class="tbl__row tbl__row--data">
                        <td class="tbl__cell tbl__cell--data">74</td>
                        <td class="tbl__cell tbl__cell--data">107</td>
                        <td class="tbl__cell tbl__cell--data">46</td>
                        <td class="tbl__cell tbl__cell--data">53</td>
                        <td class="tbl__cell tbl__cell--data">41</td>
                        <td class="tbl__cell tbl__cell--data">10</td>
                      </tr>
          
                      <!-- 3세트 -->
                      <tr class="tbl__row tbl__row--head">
                        <th class="tbl__cell tbl__cell--head">좌주</th>
                        <th class="tbl__cell tbl__cell--head">좌초</th>
                        <th class="tbl__cell tbl__cell--head">충돌</th>
                        <th class="tbl__cell tbl__cell--head">침몰</th>
                        <th class="tbl__cell tbl__cell--head">침수</th>
                        <th class="tbl__cell tbl__cell--head">침수침몰</th>
                      </tr>
                      <tr class="tbl__row tbl__row--data">
                        <td class="tbl__cell tbl__cell--data">4</td>
                        <td class="tbl__cell tbl__cell--data">82</td>
                        <td class="tbl__cell tbl__cell--data">281</td>
                        <td class="tbl__cell tbl__cell--data">26</td>
                        <td class="tbl__cell tbl__cell--data">257</td>
                        <td class="tbl__cell tbl__cell--data">0</td>
                      </tr>
          
                      <!-- 4세트 -->
                      <tr class="tbl__row tbl__row--head">
                        <th class="tbl__cell tbl__cell--head">키손상</th>
                        <th class="tbl__cell tbl__cell--head">타기고장</th>
                        <th class="tbl__cell tbl__cell--head">화재</th>
                        <th class="tbl__cell tbl__cell--head">폭발</th>
                        <th class="tbl__cell tbl__cell--head">표류</th>
                        <th class="tbl__cell tbl__cell--head">해양오염</th>
                      </tr>
                      <tr class="tbl__row tbl__row--data">
                        <td class="tbl__cell tbl__cell--data">66</td>
                        <td class="tbl__cell tbl__cell--data">15</td>
                        <td class="tbl__cell tbl__cell--data">140</td>
                        <td class="tbl__cell tbl__cell--data">4</td>
                        <td class="tbl__cell tbl__cell--data">57</td>
                        <td class="tbl__cell tbl__cell--data">44</td>
                      </tr>
          
                      <!-- 기타 -->
                      <tr class="tbl__row tbl__row--head">
                        <th class="tbl__cell tbl__cell--head">기타</th>
                        <th class="tbl__cell tbl__cell--head tbl__cell--empty" colspan="5"></th>
                      </tr>
                      <tr class="tbl__row tbl__row--data">
                        <td class="tbl__cell tbl__cell--data">76</td>
                        <td class="tbl__cell tbl__cell--data tbl__cell--empty" colspan="5"></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
          
              <p class="source">출처 : 해양경찰청</p>
          
            </div>
          
          
          </div>
          </div>
      </div>

      <!-- <div class="map-modal" id="notice-modal" style="left:50%;top: 50%;display: flex; transform: translate(-50%, -50%);">
        <div class="modal-container">
          <header class="modal-header">
            <button class="modal-close">
              <span class="visually-hidden">닫기</span>
            </button>
          </header>
          <div class="map-modal-content notice-modal-content">
            <svg xmlns="http://www.w3.org/2000/svg" width="72" height="80" viewBox="0 0 24 24" fill="none" stroke="#C1272D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2c-3.866 0-7 3.134-7 7v5H5a2 2 0 0 0-2 2v3h18v-3a2 2 0 0 0-2-2h0v-5c0-3.866-3.134-7-7-7z"/>
              <line x1="12" y1="9" x2="12" y2="13"/>
              <line x1="12" y1="17" x2="12" y2="17.01"/>
              <line x1="4" y1="4" x2="5.5" y2="5.5"/>
              <line x1="20" y1="4" x2="18.5" y2="5.5"/>
              <line x1="2" y1="12" x2="4" y2="12"/>
              <line x1="20" y1="12" x2="22" y2="12"/>
            </svg>            

            <div class="notice-modal-title">공개제한 자료 주의사항</div>
            <div class="notice-modal-content">
              <p>해당 자료는 대민 대상 <b class="highlight">공개 자료</b>가 아닙니다.</p>
              <p>대민 대상 공개 자료는 <b class="highlight">해당 자료</b>를 참조해주세요.</p>
            </div>
          </div>
          <div class="map-modal-footer">
            <button class="btn btn-primary">확인</button>
          </div>
        </div>
      </div> -->
  </div>
  <script type="module" src="./js/page/map.js"></script>
  <script>
    // map.js가 로드된 후 실행
    initTransparencySliders('.transparency-slider', (slider, value) => {
      const layerId = slider.dataset.layerId;

      // 함수 호출
      console.log(`${layerId} 투명도: ${value.toFixed(1)}%`);
    });
  </script>
</body>
</html>

