<!-- @pageTitle 메인 -->
<!-- @pageCreated 2025.10.21 -->
<!-- @pageUpdated 2025.10.22 -->
<!-- @pageNote 메인 및 사이트맵 팝업 추가 -->
<!-- @layout layouts/main.html -->
<section id="main" class="hero">
  <div class="hero-visual">
    <div class="hero-visual-bg">
      <img src="./assets/images/portal/hero-visual-bg.png" alt="">
    </div>
    <div class="hero-container">
      <div class="hero-visual--text">
        <h2>해양 통합 정보를<br>한 곳에서 확인하는</h2>
        <h3><img src="./assets/images/portal/K-OCEAN.png" alt=""></h3>
        <p>해양 공간의 다양한 정보를 지도와 데이터로 연결해드립니다.</p>
      </div>
      <div class="hero-visual-move">
        <a href="#">
          <div>
            <strong>K-Ocean<br>해양지도 서비스</strong>
            <div class="text-link">바로가기 <i class="svg-icon ico-more"></i></div>
          </div>
          <div>
            <i class="icon"></i>
          </div>
        </a>
      </div>
    </div>
  </div>
  <!-- // hero--visual -->
  <div class="hero-layer">
    <div class="hero-container">
      <header class="hero-header">
        <div>
          <p>K-OCEAN Layer</p>
          <h2>해양지도 레이어</h2>
        </div>
      </header>

      <div class="hero-layer-content">
        <div class="hero-recommend">
          <h3>추천 해양 레이어</h3>
          <div class="layer-categories" id="layer-categories">
            <div class="category-row">
              <button class="category-btn bg1" data-tags='["#어장정보","#양식장(면)","#양식장(점)","#공동영업구역","#바다목장"]'>
                <span>어업 / 수산</span>
                <i class="icon-check"></i>
              </button>
              <button class="category-btn bg2" data-tags='["#수온관측","#염분분포","#해양환경센서","#조위관측","#적조예측"]'>
                <span>해양 환경 관측</span>
                <i class="icon-check"></i>
              </button>
              <button class="category-btn bg3" data-tags='["#해양사고","#재난예보","#구조선위치","#해일영향","#기상특보"]'>
                <span>안전 / 재난</span>
                <i class="icon-check"></i>
              </button>
            </div>
            <div class="category-row">
              <button class="category-btn bg4" data-tags='["#수질분석","#시뮬레이션","#연구데이터","#클러스터분석","#통계지도"]'>
                <span>연구 / 분석</span>
                <i class="icon-check"></i>
              </button>
              <button class="category-btn bg5" data-tags='["#실시간파고","#실시간조류","#항로정보","#실시간수위","#레이더영상"]'>
                <span>실시간 해양 정보</span>
                <i class="icon-check"></i>
              </button>
            </div>
          </div>
          <div class="layer-tags" id="layer-tags-box">
            <button class="tag-btn">#어장정보</button>
            <button class="tag-btn">#양식장(면)</button>
            <button class="tag-btn">#양식장(점)</button>
            <button class="tag-btn">#공동영업구역</button>
            <button class="tag-btn">#바다목장</button>
          </div>
        </div>
        <div class="hero-popular">
          <h3>인기 레이어</h3>
          <p>8월 가장 많이 찾은 인기 레이어 입니다.</p>
          <div class="popular-list">
            <div class="popular-item active">
              <span class="rank">01</span>
              <span class="tag">#어장정보</span>
            </div>
            <div class="popular-item">
              <span class="rank">02</span>
              <span class="tag">#공동영업구역공동영업구역공동영업구역공동영업구역</span>
            </div>
            <div class="popular-item">
              <span class="rank">03</span>
              <span class="tag">#양식장(점)</span>
            </div>
            <div class="popular-item">
              <span class="rank">04</span>
              <span class="tag">#양식장(면)</span>
            </div>
            <div class="popular-item">
              <span class="rank">05</span>
              <span class="tag">#바다목장</span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  <!-- // hero--layer -->
  <div class="hero-service">
    <div class="hero-container">
      <header class="hero-header">
        <div>
          <p>K-OCEAN Service</p>
          <h2>주요 서비스 <br>바로가기</h2>
        </div>
      </header>

      <div class="service-cards">
        <div class="service-card">
          <div class="card-content">
            <h3 class="card-title">해양정보에 대한 모든 데이터</h3>
            <div class="card-desc-bottom">
              <p class="card-desc">K-Ocean 플랫폼에서는 <br>해양정보에 대한 모든 데이터를 <br>제공합니다.</p>
              <a href="#" class="card-link">데이터셋 바로가기 →</a>
            </div>
            <div class="card-icon">
              <img src="./assets/images/portal/icon-dataset.svg" alt="">
            </div>
          </div>
        </div>

        <div class="service-card">
          <div class="card-content">
            <h3 class="card-title">해양 오픈 API 신청</h3>
            <div class="card-desc-bottom">
              <p class="card-desc">해양배경지도와 다양한 <br>해양공간 정보를 OPEN API를 <br>통해 제공합니다.</p>
              <a href="#" class="card-link">오픈 API 신청 바로가기 →</a>
            </div>
            <div class="card-icon">
              <img src="./assets/images/portal/icon-api.svg" alt="">
            </div>
          </div>
          
        </div>
      </div>
    </div>
  </div>
  <!-- // hero--service -->

  <div class="hero-news">
    <div class="hero-container">
      <header class="hero-header">
        <div>
          <p>News & Notice</p>
          <h2>새로운 소식</h2>
        </div>
        <a href="#" class="hero-news-more">더보기 <i class="svg-icon ico-plus"></i></a>
      </header>

      <div class="hero-news-content">
        <div class="news-swiper-container">
          <div class="swiper news-swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <div class="news-item">
                  <span class="news-badge">공지</span>
                  <span class="news-text">[대조기] 2025년 8월 대조기 해안침수 주의정보</span>
                  <span class="news-date">2024-01-01</span>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="news-item">
                  <span class="news-badge">공지</span>
                  <span class="news-text">[해양기상] 2025년 1월 해양기상 특보 발표</span>
                  <span class="news-date">2024-01-02</span>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="news-item">
                  <span class="news-badge">공지</span>
                  <span class="news-text">[어업정보] 2025년 어업허가 신청 안내</span>
                  <span class="news-date">2024-01-03</span>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="news-item">
                  <span class="news-badge">공지</span>
                  <span class="news-text">[시스템] K-OCEAN 서비스 점검 안내</span>
                  <span class="news-date">2024-01-04</span>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="news-item">
                  <span class="news-badge">공지</span>
                  <span class="news-text">[데이터] 해양관측 데이터 업데이트</span>
                  <span class="news-date">2024-01-05</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- // hero--news -->
</section>


<script>
  // Swiper 초기화
  document.addEventListener('DOMContentLoaded', function () {
    // News Swiper - 위로 롤링
    const newsSwiper = new Swiper('.news-swiper', {
      direction: 'vertical',
      autoplay: {
        delay: 3000,
        disableOnInteraction: false,
      },
      loop: true,
      speed: 800,
      slidesPerView: 1,
      spaceBetween: 0,
      allowTouchMove: false,
    });
  });

  // 카테고리 버튼 클릭 시 태그 변경
  document.addEventListener('DOMContentLoaded', function() {
    const categoryBtns = document.querySelectorAll('.category-btn');
    const layerTagsBox = document.getElementById('layer-tags-box');
    
    categoryBtns.forEach(btn => {
      btn.addEventListener('click', function() {
        // 모든 버튼에서 active 클래스 제거
        categoryBtns.forEach(b => b.classList.remove('active'));
        
        // 클릭된 버튼에 active 클래스 추가
        this.classList.add('active');
        
        // data-tags 속성에서 태그 배열 가져오기
        const tagsData = this.getAttribute('data-tags');
        if (tagsData) {
          try {
            const tags = JSON.parse(tagsData);
            
            // 기존 태그 제거
            layerTagsBox.innerHTML = '';
            
            // 새 태그들 추가
            tags.forEach(tag => {
              const tagBtn = document.createElement('button');
              tagBtn.className = 'tag-btn';
              tagBtn.textContent = tag;
              layerTagsBox.appendChild(tagBtn);
            });
          } catch (e) {
            console.error('태그 데이터 파싱 오류:', e);
          }
        }
      });
    });
    
    // 첫 번째 버튼을 기본 활성화
    if (categoryBtns.length > 0) {
      categoryBtns[0].click();
    }
  });
</script>